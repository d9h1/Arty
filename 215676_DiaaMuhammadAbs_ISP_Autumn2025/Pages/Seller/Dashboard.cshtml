@page
@model SellerDashboardModel
@{
    ViewData["Title"] = "Artist Dashboard";
}

<div class="dashboard-container">
    <div class="dashboard-header seller-header">
        <h1>Artist Hub 🎨</h1>
        <p>Manage your art sales and track your personal orders.</p>
    </div>

    <div class="dashboard-content">

        <aside class="dashboard-sidebar seller-sidebar">
            <a asp-page="/Seller/Dashboard" class="sidebar-link active">
                <i class="fas fa-home"></i> Home
            </a>

            <h4 class="sidebar-title">Seller Tools</h4>
            <a asp-page="/Seller/MyProducts" class="sidebar-link">
                <i class="fas fa-palette"></i> My Art Listings
            </a>
            <a asp-page="/Seller/NewProduct" class="sidebar-link">
                <i class="fas fa-image"></i> Add New Art
            </a>
            <a asp-page="/Seller/MyOrders" class="sidebar-link">
                <i class="fas fa-shopping-bag"></i> Customer Orders
            </a>

            <hr class="sidebar-divider" />

            <h4 class="sidebar-title">My Purchases</h4>
            <a asp-page="/Orders" class="sidebar-link">
                <i class="fas fa-box-open"></i> My Orders
            </a>
            <a asp-page="/Wishlist" class="sidebar-link">
                <i class="fas fa-heart"></i> My Wishlist
            </a>
        </aside>

        <main class="dashboard-main">
            <h2 class="section-title">Sales Overview</h2>
            <div class="stat-cards-grid">

                <div class="stat-card seller-card">
                    <h3>Total Revenue</h3>
                    <p class="stat-value">@Model.TotalRevenue.ToString("N2") $</p>
                    <span class="stat-info">💸 Your calculated lifetime earnings</span>
                </div>

                <div class="stat-card seller-card">
                    <h3>Art Pieces Listed</h3>
                    <p class="stat-value">@Model.TotalListings</p>
                    <span class="stat-info">🖼️ Total live art listings</span>
                </div>

                <div class="stat-card seller-card">
                    <h3>Completed Sales</h3>
                    <p class="stat-value">@Model.ShippedOrdersCount</p>
                    <span class="stat-info">✅ Successfully delivered art pieces</span>
                </div>

            </div>

            <div class="pending-orders-section content-section-mini">
                <h2 class="section-title">Customer Orders</h2>
                <p>You have (@Model.PendingOrdersCount) pending sales that require shipment preparation.</p>
                <a asp-page="/Seller/MyOrders" class="slideshow-btn" style="padding: 10px 20px; font-size: 0.9rem;">View Pending Sales</a>
            </div>

            <hr />

            <div class="recent-orders-section content-section-mini">
                <h2 class="section-title">My Recent Tool Orders</h2>
                @if (Model.LastOrderNumber != "N/A")
                {
                    <p>Your last purchase: Order **@Model.LastOrderNumber**, placed on **@Model.LastOrderDate**.</p>
                }
                else
                {
                    <p>You haven't ordered any art tools yet. <a href="~/">Start Shopping for tools!</a></p>
                }
                <a href="~/Orders" class="slideshow-btn" style="padding: 10px 20px; font-size: 0.9rem;">View All Tool Orders</a>
            </div>

            <div class="recommendations-section content-section-mini">
                <h2 class="section-title">Recommended Art Tools For You</h2>
                <div class="recommendations-grid">
                    @if (Model.RecommendedProducts != null && Model.RecommendedProducts.Any())
                    {
                        @foreach (var product in Model.RecommendedProducts)
                        {
                            <div class="recommendation-item">
                                <a asp-page="/Products/Details" asp-route-id="@product.Id">
                                    <p>@product.Name</p>
                                    <span class="price">@product.Price.ToString("N2") $</span>
                                </a>
                            </div>
                        }
                    }
                    else
                    {
                        <p class="text-muted">No recommendations available at this time.</p>
                    }
                </div>
            </div>

        </main>
    </div>
</div>